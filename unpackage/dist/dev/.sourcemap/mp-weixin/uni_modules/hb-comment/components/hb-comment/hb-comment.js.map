{"version":3,"sources":["webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?3dee","webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?3ae8","webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?729d","webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?c401","uni-app:///uni_modules/hb-comment/components/hb-comment/hb-comment.vue","webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?a7da","webpack:///E:/html代码/Hx/workspace/SweetBangFront/uni_modules/hb-comment/components/hb-comment/hb-comment.vue?21ea"],"names":["name","props","cmData","type","default","deleteTip","watch","handler","immediate","data","mounted","uni","methods","stopPrevent","reply","confirmDelete","title","content","confirmText","success","that","add","duration","like","addComplete","likeComplete","comment","likeyNum","hasLike","deleteComplete","blur","focusOn","tagClose","commentInput","setTimeout","closeInput","openUserPage"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAspB,CAAgB,2qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBC6H1qB;EACAA;EACAC;IACAC;MACAC;MACAC;QACA;MACA;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;EACA;EACAE;IACAJ;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QAAA;QACA;MACA;;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;IACA;EACA;;EACAC;IAAA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACAJ;QACAK;QACAC;QACAC;QACAC;UACA;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACAV;UACAK;UACAM;QACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA,gGACAC;UACA;UACA;QACA;QACA;UACA;YACA,0FACAC;YACA,2FACAC;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;YACA;YACA;UACA;QACA;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC5RA;AAAA;AAAA;AAAA;AAAiwC,CAAgB,8tCAAG,EAAC,C;;;;;;;;;;;ACArxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/hb-comment/components/hb-comment/hb-comment.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hb-comment.vue?vue&type=template&id=36062064&scoped=true&\"\nvar renderjs\nimport script from \"./hb-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./hb-comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hb-comment.vue?vue&type=style&index=0&id=36062064&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36062064\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/hb-comment/components/hb-comment/hb-comment.vue\"\nexport default component.exports","export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hb-comment.vue?vue&type=template&id=36062064&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-avatar/u-avatar\" */ \"@/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uReadMore: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-read-more/u-read-more\" */ \"@/uview-ui/components/u-read-more/u-read-more.vue\"\n      )\n    },\n    uTag: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.commentData.comment.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hb-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hb-comment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"hb-comment\">\r\n\t\t<!-- 阅读数-start -->\r\n\t\t<view>\r\n\t\t\t<u-icon name=\"eye\" color=\"#999999\" size=\"28\"></u-icon>\r\n\t\t\t<span class=\"top-read\">{{commentData.readNumer}}</span>\r\n\t\t</view>\r\n\t\t<!-- 阅读数-end -->\r\n\t\t<!-- 阅读数下边那条线-start -->\r\n\t\t<view class=\"seg_line_box\">\r\n\t\t\t<view class=\"seg_line\"></view>\r\n\t\t\t<view class=\"seg_dot\"></view>\r\n\t\t\t<view class=\"seg_line\"></view>\r\n\t\t</view>\r\n\t\t<!-- 阅读数下边那条线-end -->\r\n\t\t<!-- 评论主体-start -->\r\n\t\t<view class=\"comment-list\" v-if=\"commentData.comment.length != 0\">\r\n\t\t\t<!-- 评论主体-顶部数量及发表评论按钮-start -->\r\n\t\t\t<view class=\"comment-num\">\r\n\t\t\t\t<view>共 {{commentData.commentSize}} 条评论</view>\r\n\t\t\t\t<view class=\"add-btn\">\r\n\t\t\t\t\t<u-button type=\"primary\" size=\"mini\" @click=\"commentInput\">发表评论</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 评论主体-顶部数量及发表评论按钮-end -->\r\n\t\t\t<!-- 评论列表-start -->\r\n\t\t\t<view class=\"comment-box\" v-for=\"(item,index) in commentData.comment\" :key=\"index\">\r\n\t\t\t\t<view class=\"comment-box-item\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<u-avatar :src=\"item.avatarUrl\" mode=\"circle\" size=\"mini\" @click=\"openUserPage(item.userId)\"></u-avatar>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comment-main\">\r\n\t\t\t\t\t\t<!-- 父评论体-start -->\r\n\t\t\t\t\t\t<view class=\"comment-main-top\">\r\n\t\t\t\t\t\t\t<view class=\"nick-name-box\">\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com1\" v-if=\"index == 0\">沙发</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com2\" v-if=\"index == 1\">板凳</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com3\" v-if=\"index == 2\">地板</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com4\" v-if=\"index > 2\">{{index + 1}}楼</view>\r\n\t\t\t\t\t\t\t\t<view class=\"nick-name\">{{item.nickName}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"zan-box\" @click=\"like(item.id)\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t:class=\"item.hasLike ? 'isLike' : 'notLike'\">{{item.likeyNum == 0 ? '抢首赞' : item.likeyNum}}</span>\r\n\t\t\t\t\t\t\t\t<u-icon :name=\"item.hasLike?'thumb-up-fill':'thumb-up'\"\r\n\t\t\t\t\t\t\t\t\t:color=\"item.hasLike?'#2d8cf0':'#999999'\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-main-content\">\r\n\t\t\t\t\t\t\t<u-read-more :toggle=\"true\" show-height=\"300\" text-indent=\"0\" close-text=\"展开\">\r\n\t\t\t\t\t\t\t\t<rich-text :nodes=\"item.content\"></rich-text>\r\n\t\t\t\t\t\t\t</u-read-more>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-main-foot\">\r\n\t\t\t\t\t\t\t<view class=\"foot-time\">{{item.createTime}}</view>\r\n\t\t\t\t\t\t\t<view class=\"foot-btn\" @click=\"reply(item.nickName,item.nickName,item.id)\">回复</view>\r\n\t\t\t\t\t\t\t<view class=\"foot-btn\" v-if=\"item.owner\" @click=\"confirmDelete(item.id)\">删除</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 父评论体-end -->\r\n\t\t\t\t\t\t<!-- 子评论列表-start -->\r\n\t\t\t\t\t\t<view class=\"comment-sub-box\">\r\n\t\t\t\t\t\t\t<view class=\"comment-sub-item\" v-for=\"each in item.children\" :key=\"each.id\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<u-avatar :src=\"each.avatarUrl\" mode=\"circle\" size=\"mini\" @click=\"openUserPage(each.userId)\"></u-avatar>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comment-main\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"sub-comment-main-top\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"nick-name\">{{each.nickName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"zan-box\" @click=\"like(each.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"each.hasLike ? 'isLike' : 'notLike'\">{{each.likeyNum == 0 ? '抢首赞' : each.likeyNum}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<u-icon :name=\"each.hasLike?'thumb-up-fill':'thumb-up'\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:color=\"each.hasLike?'#2d8cf0':'#999999'\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"comment-main-content\">\r\n\t\t\t\t\t\t\t\t\t\t<u-read-more :toggle=\"true\" show-height=\"300\" text-indent=\"0\" close-text=\"展开\">\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"each.content\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t</u-read-more>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"comment-main-foot\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-time\">{{each.createTime}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-btn\" @click=\"reply(item.nickName,each.nickName,item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t回复</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-btn\" v-if=\"each.owner\" @click=\"confirmDelete(each.id)\">删除\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 子评论列表-end -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 评论列表-end -->\r\n\t\t</view>\r\n\t\t<!-- 评论主体-end -->\r\n\t\t<!-- 无评论-start -->\r\n\t\t<view class=\"comment-none\" v-else>\r\n\t\t\t暂无评论，<span @click=\"commentInput\" style=\"color: #007AFF;\">抢沙发</span>\r\n\t\t</view>\r\n\t\t<!-- 无评论-end -->\r\n\t\t<!-- 新增评论-start -->\r\n\t\t<view class=\"comment-submit-box\" v-if=\"submit\" @click=\"closeInput\">\r\n\t\t\t<!-- 下边的click.stop.prevent用于让上边的click不传下去，以防点到下边的空白处触发closeInput方法 -->\r\n\t\t\t<view class=\"comment-add\" @click.stop.prevent=\"stopPrevent\" :style=\"'bottom:' + KeyboardHeight + 'px'\">\r\n\t\t\t\t<view class=\"comment-submit\">\r\n\t\t\t\t\t<view class=\"btn-click cancel\" @click=\"closeInput\">取消</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<u-tag :text=\"'回复在 '+ pUser +' 的评论下'\" type=\"info\" closeable :show=\"showTag\" @close=\"tagClose\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"btn-click\" @click=\"add\">发布</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<textarea class=\"textarea\" v-model=\"commentReq.content\" :placeholder=\"placeholder\"\r\n\t\t\t\t\t:adjust-position=\"false\" :show-confirm-bar=\"false\" @blur=\"blur\" @focus=\"focusOn\" :focus=\"focus\"\r\n\t\t\t\t\tmaxlength=\"800\"></textarea>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 新增评论-end -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'hb-comment',\r\n\t\tprops: {\r\n\t\t\tcmData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteTip: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn '操作不可逆，如果评论下有子评论，也将被一并删除，确认？';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcmData: {\r\n\t\t\t\thandler: function(newVal, oldVal) {\r\n\t\t\t\t\tthis.commentData = newVal;\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t\"commentData\": null,\r\n\t\t\t\t\"commentReq\": {\r\n\t\t\t\t\t\"pId\": null, // 评论父id\r\n\t\t\t\t\t\"content\": null // 评论内容\r\n\t\t\t\t},\r\n\t\t\t\t\"pUser\": null, // 标签-回复人\r\n\t\t\t\t\"showTag\": false, // 标签展示与否\r\n\t\t\t\t\"focus\": false, // 输入框自动聚焦\r\n\t\t\t\t\"submit\": false, // 弹出评论\r\n\t\t\t\t\"KeyboardHeight\": 0 // 键盘高度\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tthis.KeyboardHeight = res.height;\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 没用的方法，但不要删\r\n\t\t\tstopPrevent() {},\r\n\t\t\t// 回复评论\r\n\t\t\treply(pUser, reUser, pId) {\r\n\t\t\t\tthis.pUser = pUser;\r\n\t\t\t\tthis.commentReq.pId = pId;\r\n\t\t\t\tif (reUser) {\r\n\t\t\t\t\tthis.commentReq.content = '@' + reUser + ' ';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.commentReq.content = '';\r\n\t\t\t\t}\r\n\t\t\t\tthis.showTag = true;\r\n\t\t\t\tthis.commentInput();\r\n\t\t\t},\r\n\t\t\t// 删除评论前确认\r\n\t\t\tconfirmDelete(commentId) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '警告',\r\n\t\t\t\t\tcontent: that.deleteTip,\r\n\t\t\t\t\tconfirmText: '确认删除',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.$emit('del', commentId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 新增评论\r\n\t\t\tadd() {\r\n\t\t\t\tif (this.commentReq.content == null || this.commentReq.content.length < 2) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论内容过短',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('add', this.commentReq);\r\n\t\t\t},\r\n\t\t\t// 点赞评论\r\n\t\t\tlike(commentId) {\r\n\t\t\t\tthis.$emit('like', commentId);\r\n\t\t\t},\r\n\t\t\t// 新增完成\r\n\t\t\taddComplete() {\r\n\t\t\t\tthis.commentReq.content = null;\r\n\t\t\t\tthis.tagClose();\r\n\t\t\t\tthis.closeInput();\r\n\t\t\t},\r\n\t\t\t// 点赞完成-本地修改点赞结果\r\n\t\t\tlikeComplete(commentId) {\r\n\t\t\t\tfor (var i in this.commentData.comment) {\r\n\t\t\t\t\tif (this.commentData.comment[i].id == commentId) {\r\n\t\t\t\t\t\tthis.commentData.comment[i].hasLike ? this.commentData.comment[i].likeyNum-- : this.commentData\r\n\t\t\t\t\t\t\t.comment[i].likeyNum++;\r\n\t\t\t\t\t\tthis.commentData.comment[i].hasLike = !this.commentData.comment[i].hasLike;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var j in this.commentData.comment[i].children) {\r\n\t\t\t\t\t\tif (this.commentData.comment[i].children[j].id == commentId) {\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children[j].hasLike ? this.commentData.comment[i].children[j]\r\n\t\t\t\t\t\t\t\t.likeyNum-- : this.commentData.comment[i].children[j].likeyNum++;\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children[j].hasLike = !this.commentData.comment[i].children[j]\r\n\t\t\t\t\t\t\t\t.hasLike;\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除完成-本地删除评论\r\n\t\t\tdeleteComplete(commentId) {\r\n\t\t\t\tfor (var i in this.commentData.comment) {\r\n\t\t\t\t\tfor (var j in this.commentData.comment[i].children) {\r\n\t\t\t\t\t\tif (this.commentData.comment[i].children[j].id == commentId) {\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children.splice(Number(j), 1);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.commentData.comment[i].id == commentId) {\r\n\t\t\t\t\t\tthis.commentData.comment.splice(Number(i), 1);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 输入框失去焦点\r\n\t\t\tblur() {\r\n\t\t\t\tthis.focus = false;\r\n\t\t\t},\r\n\t\t\t// 输入框聚焦\r\n\t\t\tfocusOn() {\r\n\t\t\t\tthis.$emit('focusOn');\r\n\t\t\t},\r\n\t\t\t// 标签关闭\r\n\t\t\ttagClose() {\r\n\t\t\t\tthis.showTag = false;\r\n\t\t\t\tthis.pUser = null;\r\n\t\t\t\tthis.commentReq.pId = null;\r\n\t\t\t},\r\n\t\t\t// 输入评论\r\n\t\t\tcommentInput() {\r\n\t\t\t\t// TODO 调起键盘方法\r\n\t\t\t\tthis.submit = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.focus = true;\r\n\t\t\t\t}, 50)\r\n\t\t\t},\r\n\t\t\t// 关闭输入评论\r\n\t\t\tcloseInput() {\r\n\t\t\t\tthis.focus = false;\r\n\t\t\t\tthis.submit = false;\r\n\t\t\t},\r\n\t\t\topenUserPage(userId){\r\n\t\t\t\tthis.$toPage('../usercenter/usercenter?userId='+userId);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.hb-comment {\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.top-read {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-left: 10rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.seg_line_box {\r\n\t\tdisplay: flex;\r\n\t\theight: 5rpx;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 5rpx 0;\r\n\t}\r\n\r\n\t.seg_line {\r\n\t\twidth: 45%;\r\n\t\tborder-bottom: 1rpx solid #e1e1e1;\r\n\t}\r\n\r\n\t.seg_dot {\r\n\t\twidth: 8%;\r\n\t\tborder-bottom: 5rpx dotted #dbdbdb;\r\n\t}\r\n\r\n\t.comment-num {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.comment-box {\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.comment-box-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.comment-main {\r\n\t\tpadding-left: 20rpx;\r\n\t}\r\n\r\n\t.comment-main-top {\r\n\t\twidth: 600rpx;\r\n\t\tpadding-top: 6rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.sub-comment-main-top {\r\n\t\twidth: 510rpx;\r\n\t\tpadding-top: 6rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.nick-name-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.comLogo {\r\n\t\tmargin-right: 18rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 5rpx 15rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.com1 {\r\n\t\tbackground-color: #d218b1;\r\n\t}\r\n\r\n\t.com2 {\r\n\t\tbackground-color: #f19c0b;\r\n\t}\r\n\r\n\t.com3 {\r\n\t\tbackground-color: #c8da85;\r\n\t}\r\n\r\n\t.com4 {\r\n\t\tbackground-color: #bfd0da;\r\n\t}\r\n\r\n\t.nick-name {\r\n\t\tcolor: #2d8cf0;\r\n\t}\r\n\r\n\t.isLike {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tcolor: #2d8cf0;\r\n\t}\r\n\r\n\t.notLike {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.comment-main-content {\r\n\t\tpadding: 10rpx 10rpx 10rpx 0;\r\n\t}\r\n\r\n\t.comment-main-foot {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.foot-btn {\r\n\t\tpadding-left: 10rpx;\r\n\t\tcolor: #007AFF;\r\n\t}\r\n\r\n\t.comment-sub-box {\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.comment-sub-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.comment-none {\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.comment-submit-box {\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tz-index: 9900;\r\n\t\tleft: 0;\r\n\t\ttop: var(--window-top);\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba($color: #000000, $alpha: 0.5);\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.comment-add {\r\n\t\tposition: fixed;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\tpadding: 5rpx;\r\n\t\tborder: 1px solid #ddd;\r\n\t\ttransition: .3s;\r\n\t\t-webkit-transition: .3s;\r\n\t}\r\n\r\n\t.btn-click {\r\n\t\tcolor: #007AFF;\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding: 10rpx;\r\n\t\tmargin-right: 45rpx;\r\n\t}\r\n\r\n\t.cancel {\r\n\t\tcolor: #606266;\r\n\t}\r\n\r\n\t.textarea {\r\n\t\theight: 100px;\r\n\t\tpadding: 16rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.comment-submit {\r\n\t\tpadding: 5rpx 20rpx 0 20rpx;\r\n\t\tborder-bottom: 1px dashed #ddd;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hb-comment.vue?vue&type=style&index=0&id=36062064&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hb-comment.vue?vue&type=style&index=0&id=36062064&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1688023656472\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}